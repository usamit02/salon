<ion-header>
  <ion-toolbar>
    <button style="display:none;" id="dummy"></button>
    <ion-buttons slot="start">
      <ion-menu-button menu="start"></ion-menu-button>
    </ion-buttons>
    <ion-item>
      <ion-title>{{room.na}}</ion-title>
      <ion-button (click)="rtc('headset')" item-right>
        <ion-icon name="headset"></ion-icon>
        視聴
      </ion-button>
      <ion-button *ngIf="user" (click)="rtc('mic')" color="danger" icon-left item-right>
        <ion-icon name="mic"></ion-icon>ラジオ
      </ion-button>
      <ion-button *ngIf="user" (click)="rtc('videocam')" color="danger" icon-left item-right>
        <ion-icon name="videocam"></ion-icon>動画
      </ion-button>
      <ion-button *ngIf="user" icon-only item-right (click)="logout()" item-right icon-left color="dark">
        <ion-icon name="exit"></ion-icon>
      </ion-button>
    </ion-item>
    <ion-buttons slot="end">
      <ion-menu-button menu="end"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <router-outlet></router-outlet>
</ion-content>
<ion-footer>
  <ion-toolbar no-padding>
    <div [ngSwitch]="user.id">
      <ion-item *ngSwitchCase="false" button="true" (click)="login()">
        ログインしてコミュニケーションを楽しもう
        <ion-icon name="logo-twitter"></ion-icon>
        <ion-icon name="logo-facebook"></ion-icon>
        <ion-icon name="logo-google"></ion-icon>
      </ion-item>
      <div *ngSwitchDefault>
        <ion-item no-padding>
          <textarea #chat_input placeholder="気軽に書き込んで" [(ngModel)]="message" (keydown)="keyPress()" (keydown.enter)="sendMsg()"></textarea>
          <ion-button clear icon-only item-right (click)="sendMsg()">
            <ion-icon name="ios-send" ios="ios-send" md="md-send"></ion-icon>
          </ion-button>
        </ion-item>
        <p id="writer">{{writer}}</p>

      </div>
    </div>
  </ion-toolbar>
</ion-footer>