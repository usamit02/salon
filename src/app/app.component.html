<!--
<ion-app>
  <ion-router-outlet></ion-router-outlet>
</ion-app>
-->
<ion-app>
  <ion-split-pane contentId="menu-content">
    <ion-menu contentId="menu-content" side="start">
      <ion-header>
        <ion-toolbar>
          <ion-item button="true" (click)="retRoom()" (press)="retRoom(true)">
            <ion-title>{{folder.na}}</ion-title>
            <ion-icon *ngIf="folder.id!==1" name="exit" item-right></ion-icon>
            <ion-icon *ngIf="folder.id===1 && bookmk===1" name="bookmark" item-right></ion-icon>
          </ion-item>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <ion-list>
          <ion-item *ngFor="let room of rooms" button="true" (click)="joinRoom(room)" (press)="bookmark(room.id)">
            <span>{{room.na}}</span><span class="mention">{{room.count}}</span>
            <ion-icon *ngIf="room.folder===1" name="arrow-dropdown"></ion-icon>
            <ion-icon *ngIf="room.new" name="mail-unread"></ion-icon>
            <ion-icon *ngIf="room.lock>0" name="lock" item-right></ion-icon>
            <ion-icon *ngIf="room.bookmark===1" name="bookmark" item-right></ion-icon>
          </ion-item>
        </ion-list>
        <ion-list *ngIf="folder.id===1 && !bookmk">
          <ion-item *ngIf="data.mentionRooms.length" button="true" (click)="mention()"><span>メンション</span><span class="mention">{{data.mentionRooms.length}}</span></ion-item>
          <ion-item button="true" (click)="direct()"><span>ダイレクト</span></ion-item>
          <ion-item button="true" (click)="config()"><span>設定</span></ion-item>
        </ion-list>
      </ion-content>
    </ion-menu>
    <ion-menu contentId="menu-content" side="end">
      <ion-header>
        <ion-toolbar>
          <ion-item>
            <ion-searchbar placeholder="メンバー検索" (ionClear)="searchMemberClear()" [(ngModel)]="member" (keyup.enter)="searchMember()"></ion-searchbar>
            <ion-button clear icon-only item-right (click)="searchMember()">
              <ion-icon name="search"></ion-icon>
            </ion-button>
          </ion-item>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <ion-text *ngIf="!onMembers.length && !offMembers.length">誰もいない...</ion-text>
        <ion-item-divider *ngIf="onMembers.length" color="secondary">
          <ion-label>
            オンライン{{onMembers.length}}人
          </ion-label>
        </ion-item-divider>
        <ion-list>
          <ion-item *ngFor="let member of onMembers" button="true" (click)="popMember(member,$event)">
            <ion-avatar item-left><img [src]="member.avatar"></ion-avatar>
            <span>{{member.na}}</span>
            <ion-icon [name]="member.rtc" item-right></ion-icon>
          </ion-item>
        </ion-list>
        <ion-item-divider *ngIf="offMembers.length" color="secondary">
          <ion-label>
            オフライン{{offMembers.length}}人
          </ion-label>
        </ion-item-divider>
        <ion-list>
          <ion-item *ngFor="let member of offMembers" button="true" (click)="popMember(member,$event)">
            <ion-avatar item-left>
              <img [src]="member.avatar">
            </ion-avatar>
            <span>{{member.na}}</span>
          </ion-item>
        </ion-list>
      </ion-content>
    </ion-menu>
    <ion-router-outlet id="menu-content"></ion-router-outlet>
  </ion-split-pane>
</ion-app>